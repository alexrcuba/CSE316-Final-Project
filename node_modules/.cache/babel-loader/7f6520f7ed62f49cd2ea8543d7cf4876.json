{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pokeg\\\\Documents\\\\cse316-final-project\\\\src\\\\components\\\\edit_screen\\\\EditScreen.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { getFirestore } from 'redux-firestore';\nimport { Button, Modal, Icon } from 'react-materialize';\nimport { Link } from 'react-router-dom';\nimport { Rnd } from 'react-rnd';\nimport { updateWireframe, updateListName, zoomInOut } from '../../store/actions/actionCreators.js';\n\nclass EditScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editedComponent: {\n        key: \"\",\n        text: \"\",\n        fontsize: \"\",\n        fontcolor: \"\",\n        background: \"\",\n        bordercolor: \"\",\n        borderwidth: \"\",\n        borderradius: \"\",\n        height: \"\",\n        width: \"\",\n        top: \"\",\n        left: \"\"\n      },\n      cancelOption: {\n        init: false,\n        saved: true,\n        originalWireframe: \"\"\n      }\n    };\n\n    this.deselectControl = e => {\n      this.setState({\n        editedComponent: {\n          key: \"\",\n          text: \"\",\n          fontsize: \"\",\n          fontcolor: \"\",\n          background: \"\",\n          bordercolor: \"\",\n          borderwidth: \"\",\n          borderradius: \"\",\n          height: \"\",\n          width: \"\",\n          top: \"\",\n          left: \"\"\n        }\n      });\n    };\n\n    this.selectControl = (wireframe, e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const target = e.target;\n      const key = target.id;\n      const item = wireframe.controls[key];\n\n      if (item === undefined) {\n        return;\n      }\n\n      this.setState({\n        editedComponent: {\n          key: item.key,\n          text: item.text,\n          fontsize: item.fontsize,\n          fontcolor: item.fontcolor,\n          background: item.background,\n          bordercolor: item.bordercolor,\n          borderwidth: item.borderwidth,\n          borderradius: item.borderradius,\n          height: item.height,\n          width: item.width,\n          top: item.top,\n          left: item.left\n        }\n      });\n    };\n\n    this.onResize = (wireframe, key, e, direction, ref, delta, position) => {\n      if (this.state.cancelOption.init === false) {\n        let copy = JSON.parse(JSON.stringify(wireframe));\n        this.setState({\n          cancelOption: {\n            init: true,\n            saved: false,\n            originalWireframe: copy\n          }\n        });\n      } else {\n        let noSaved = this.state.cancelOption;\n        noSaved.saved = false;\n        this.setState({\n          cancelOption: noSaved\n        });\n      }\n\n      wireframe.controls[key].width = ref.offsetWidth;\n      wireframe.controls[key].height = ref.offsetHeight;\n      wireframe.controls[key].top = position.y;\n      wireframe.controls[key].left = position.x;\n      this.props.updateWireframe(wireframe, wireframe.id);\n    };\n\n    this.onDrag = (wireframe, key, e, d) => {\n      if (this.state.cancelOption.init === false) {\n        let copy = JSON.parse(JSON.stringify(wireframe));\n        this.setState({\n          cancelOption: {\n            init: true,\n            saved: false,\n            originalWireframe: copy\n          }\n        });\n      } else {\n        let noSaved = this.state.cancelOption;\n        noSaved.saved = false;\n        this.setState({\n          cancelOption: noSaved\n        });\n      }\n\n      wireframe.controls[key].top = d.y;\n      wireframe.controls[key].left = d.x;\n      this.props.updateWireframe(wireframe, wireframe.id);\n    };\n\n    this.keyPresses = (wireframe, key, e) => {\n      if (this.state.cancelOption.init === false) {\n        let copy = JSON.parse(JSON.stringify(wireframe));\n        this.setState({\n          cancelOption: {\n            init: true,\n            saved: false,\n            originalWireframe: copy\n          }\n        });\n      } else {\n        let noSaved = this.state.cancelOption;\n        noSaved.saved = false;\n        this.setState({\n          cancelOption: noSaved\n        });\n      }\n\n      if (e.key === \"Delete\") {\n        wireframe.controls.splice(key, 1);\n        this.readjustKeys(wireframe);\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (e.nativeEvent.keyCode === 68) {\n        if (e.nativeEvent.ctrlKey) {\n          let copy = JSON.parse(JSON.stringify(wireframe.controls[key]));\n          copy.key = wireframe.controls.length;\n          wireframe.controls.push(copy);\n          this.updateWireframe(wireframe, wireframe, id);\n        }\n      }\n    };\n\n    this.handleChange = (wireframe, e) => {\n      const target = e.target;\n\n      if (target.id !== \"noaved\") {\n        let noSaved = this.state.cancelOption;\n        noSaved.saved = false;\n        this.setState({\n          cancelOption: noSaved\n        });\n      }\n\n      if (this.state.cancelOption.init === false) {\n        let copy = JSON.parse(JSON.stringify(wireframe));\n        this.setState({\n          cancelOption: {\n            init: true,\n            saved: false,\n            originalWireframe: copy\n          }\n        });\n      }\n\n      if (target.id === \"name\") {\n        this.props.updateListName(target.value, wireframe.id);\n      } else if (target.id === \"height\") {\n        if (target.value >= 0 && target.value <= 5000) {\n          wireframe.container.height = parseInt(target.value, 10);\n          this.props.updateWireframe(wireframe, wireframe.id);\n        }\n      } else if (target.id === \"width\") {\n        if (target.value >= 0 && target.value <= 5000) {\n          wireframe.container.width = parseInt(target.value, 10);\n          this.props.updateWireframe(wireframe, wireframe.id);\n        }\n      } else if (target.id === \"save\") {\n        let isSaved = this.state.cancelOption;\n        isSaved.saved = true;\n        this.setState({\n          cancelOption: isSaved\n        });\n\n        if (wireframe.container.zoomamount > 0) {\n          wireframe.container.height /= Math.pow(2, wireframe.container.zoomamount);\n          wireframe.container.width /= Math.pow(2, wireframe.container.zoomamount);\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderwidth /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderRadius /= Math.pow(2, wireframe.container.zoomamount);\n            controls.height /= Math.pow(2, wireframe.container.zoomamount);\n            controls.width /= Math.pow(2, wireframe.container.zoomamount);\n            controls.top /= Math.pow(2, wireframe.container.zoomamount);\n            controls.left /= Math.pow(2, wireframe.container.zoomamount);\n          });\n          wireframe.controls = controls;\n          wireframe.container.zoomamount = 0;\n        } else if (wireframe.container.zoomamount < 0) {\n          wireframe.container.height /= Math.pow(2, wireframe.container.zoomamount);\n          wireframe.container.width /= Math.pow(2, wireframe.container.zoomamount);\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderwidth /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderRadius /= Math.pow(2, wireframe.container.zoomamount);\n            controls.height /= Math.pow(2, wireframe.container.zoomamount);\n            controls.width /= Math.pow(2, wireframe.container.zoomamount);\n            controls.top /= Math.pow(2, wireframe.container.zoomamount);\n            controls.left /= Math.pow(2, wireframe.container.zoomamount);\n          });\n          wireframe.controls = controls;\n          wireframe.container.zoomamount = 0;\n        }\n\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (target.id === \"nosave\") {\n        this.props.updateWireframe(this.state.cancelOption.originalWireframe, wireframe.id);\n      } else if (target.id === \"component\") {\n        let newItem = this.state.editedComponent;\n        newItem.text = target.value;\n        this.setState({\n          editedComponent: newItem\n        });\n        wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (target.id === \"font_size\") {\n        if (target.value >= 0) {\n          let newItem = this.state.editedComponent;\n          newItem.fontsize = parseInt(target.value, 10);\n          this.setState({\n            editedComponent: newItem\n          });\n          wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n          this.props.updateWireframe(wireframe, wireframe.id);\n        }\n      } else if (target.id === \"font_color\") {\n        let newItem = this.state.editedComponent;\n        newItem.fontcolor = target.value;\n        this.setState({\n          editedComponent: newItem\n        });\n        wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (target.id === \"background\") {\n        let newItem = this.state.editedComponent;\n        newItem.background = target.value;\n        this.setState({\n          editedComponent: newItem\n        });\n        wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (target.id === \"border_c\") {\n        let newItem = this.state.editedComponent;\n        newItem.bordercolor = target.value;\n        this.setState({\n          editedComponent: newItem\n        });\n        wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (target.id === \"border_t\") {\n        if (target.value >= 0) {\n          let newItem = this.state.editedComponent;\n          newItem.borderwidth = parseInt(target.value, 10);\n          this.setState({\n            editedComponent: newItem\n          });\n          wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n          this.props.updateWireframe(wireframe, wireframe.id);\n        }\n      } else if (target.id === \"border_r\") {\n        if (target.value >= 0) {\n          let newItem = this.state.editedComponent;\n          newItem.borderradius = parseInt(target.value, 10);\n          this.setState({\n            editedComponent: newItem\n          });\n          wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n          this.props.updateWireframe(wireframe, wireframe.id);\n        }\n      } else if (target.firstChild != null) {\n        if (target.firstChild.data === \"zoom_in\") {\n          wireframe.container.zoomamount += 1;\n          wireframe.container.height *= 2;\n          wireframe.container.width *= 2;\n\n          if (wireframe.container.height > 5000 || wireframe.container.width > 5000) {\n            wireframe.container.zoomamount -= 1;\n            wireframe.container.height /= 2;\n            wireframe.container.width /= 2;\n            return;\n          }\n\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize *= 2;\n            controls.borderwidth *= 2;\n            controls.borderradius *= 2;\n            controls.height *= 2;\n            controls.width *= 2;\n            controls.top *= 2;\n            controls.left *= 2;\n          });\n          wireframe.controls = controls;\n          this.props.zoomInOut(wireframe, wireframe.id);\n        } else if (target.firstChild.data === \"zoom_out\") {\n          wireframe.container.zoomamount -= 1;\n          wireframe.container.height /= 2;\n          wireframe.container.width /= 2;\n\n          if (wireframe.container.height < 1 || wireframe.container.width < 1) {\n            wireframe.container.zoomamount += 1;\n            wireframe.container.height *= 2;\n            wireframe.container.width *= 2;\n            return;\n          }\n\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize /= 2;\n            controls.borderwidth /= 2;\n            controls.borderRadius /= 2;\n            controls.height /= 2;\n            controls.width /= 2;\n            controls.top /= 2;\n            controls.left /= 2;\n          });\n          wireframe.controls = controls;\n          this.props.zoomInOut(wireframe, wireframe.id);\n        }\n      }\n    };\n\n    this.sortCriteria = 'none';\n    this.changedTime = false;\n\n    this.updateTime = () => {\n      let fireStore = getFirestore();\n      fireStore.collection('wireframes').doc(this.props.wireframe.id).update({\n        time: Date.now()\n      });\n    };\n\n    this.createControl = (wireframe, e) => {\n      const target = e.target;\n\n      if (target.id !== \"noaved\") {\n        let noSaved = this.state.cancelOption;\n        noSaved.saved = false;\n        this.setState({\n          cancelOption: noSaved\n        });\n      }\n\n      if (this.state.cancelOption.init === false) {\n        let copy = JSON.parse(JSON.stringify(wireframe));\n        this.setState({\n          cancelOption: {\n            init: true,\n            saved: false,\n            originalWireframe: copy\n          }\n        });\n      }\n\n      let control = null;\n\n      if (target.id === \"container\") {\n        control = {\n          key: 0,\n          text: \"\",\n          fontsize: 0,\n          background: \"#ffffff\",\n          fontcolor: \"#ffffff\",\n          bordercolor: \"#000000\",\n          borderwidth: 3,\n          borderradius: 2,\n          height: 60,\n          width: 150,\n          top: 0,\n          left: 0\n        };\n      } else if (target.id === \"label\") {\n        control = {\n          key: 0,\n          text: \"Prompt for Input:\",\n          fontsize: 15,\n          background: \"#ffffff\",\n          fontcolor: \"#000000\",\n          bordercolor: \"#ffffff\",\n          borderwidth: 0,\n          borderradius: 0,\n          height: 30,\n          width: 220,\n          top: 0,\n          left: 0\n        };\n      } else if (target.id === \"textfield\") {\n        control = {\n          key: 0,\n          text: \"Input\",\n          fontsize: 15,\n          background: \"#9e9e9e\",\n          fontcolor: \"#757575\",\n          bordercolor: \"#757575\",\n          borderwidth: 3,\n          borderradius: 2,\n          height: 35,\n          width: 200,\n          top: 0,\n          left: 0\n        };\n      }\n\n      control.key = wireframe.controls.length;\n      wireframe.controls.push(control);\n      this.props.updateWireframe(wireframe, wireframe.id);\n    };\n  }\n\n  isVisible(e) {\n    if (this.state.editedComponent.key === e) {\n      return \"\";\n    } else {\n      return \"hidden\";\n    }\n  }\n\n  readjustKeys(wireframe) {\n    let i = 0;\n\n    for (i; i < wireframe.controls.length; i++) {\n      wireframe.controls[i].key = i;\n    }\n  }\n\n  render() {\n    const auth = this.props.auth;\n    let wireframe = this.props.wireframe;\n\n    if (!auth.uid) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443\n        },\n        __self: this\n      });\n    }\n\n    if (!wireframe) return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447\n      },\n      __self: this\n    });\n    let controls = wireframe.controls;\n    let container = wireframe.container;\n\n    const ConditionalLink = ({\n      children,\n      to,\n      condition\n    }) => !!condition && to ? React.createElement(Link, {\n      to: to,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451\n      },\n      __self: this\n    }, children) : React.createElement(React.Fragment, null, children);\n\n    const ConditionalModal = ({\n      children,\n      condition\n    }) => !!condition ? React.createElement(Modal, {\n      header: \"Changes Not Saved!\",\n      trigger: React.createElement(\"div\", {\n        className: \"clicker black-text col s4\",\n        onClick: e => this.handleChange(wireframe, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 452\n        },\n        __self: this\n      }, \"Close\"),\n      actions: React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, React.createElement(Button, {\n        id: \"save\",\n        className: \"grey darken-1 waves-effect waves-light btn modal-action modal-close\",\n        onClick: e => this.handleChange(wireframe, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453\n        },\n        __self: this\n      }, \"Save Changes\")), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(Button, {\n        id: \"nosave\",\n        className: \"grey darken-1 waves-effect waves-light btn modal-action modal-close\",\n        onClick: e => this.handleChange(wireframe, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, \"Continue Without Saving\"))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455\n      },\n      __self: this\n    }, \"You are about to quit without saving your changes. Are you sure you want to do this?\")) : React.createElement(React.Fragment, null, children);\n\n    if (!this.changedTime) {\n      this.changedTime = true;\n      this.updateTime();\n    }\n\n    return React.createElement(\"div\", {\n      className: \"edit-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"input-field\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"div\", {\n      className: \"input-field col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 467\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"name\",\n      type: \"text\",\n      value: wireframe.name,\n      onChange: e => this.handleChange(wireframe, e),\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470\n      },\n      __self: this\n    }, \"Dimensions:\"), React.createElement(\"div\", {\n      className: \"input-field col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"height\",\n      type: \"number\",\n      value: wireframe.container.height,\n      onChange: e => this.handleChange(wireframe, e),\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473\n      },\n      __self: this\n    }, \"Height\")), React.createElement(\"div\", {\n      className: \"input-field col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"width\",\n      type: \"number\",\n      value: wireframe.container.width,\n      onChange: e => this.handleChange(wireframe, e),\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"width\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, \"Width\"))), React.createElement(\"div\", {\n      id: \"edit-modules\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"ZoomSaveCancel\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"zoomin\",\n      className: \"clicker black-text col s2\",\n      onClick: e => this.handleChange(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 483\n      },\n      __self: this\n    }, \"zoom_in\")), React.createElement(\"div\", {\n      id: \"zoomout\",\n      className: \"clicker black-text col s2\",\n      onClick: e => this.handleChange(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }, \"zoom_out\")), React.createElement(\"div\", {\n      id: \"save\",\n      onClick: e => this.handleChange(wireframe, e),\n      className: \"clicker black-text col s4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485\n      },\n      __self: this\n    }, \"Save\"), React.createElement(ConditionalLink, {\n      id: \"close\",\n      to: \"/\",\n      condition: !this.state.cancelOption.init || this.state.cancelOption.init && this.state.cancelOption.saved,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(ConditionalModal, {\n      id: \"closeModal\",\n      condition: !this.state.cancelOption.saved,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clicker black-text col s4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, \"Close\")))), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      id: \"ComponentElements\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s3\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 490\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      id: \"container\",\n      className: \"white btn-large col s6\",\n      style: {\n        borderStyle: \"solid\",\n        borderColor: \"black\"\n      },\n      onClick: e => this.createControl(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col s3\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    }, \"Container\"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      id: \"label\",\n      className: \"btn-large-flat col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      onClick: e => this.createControl(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495\n      },\n      __self: this\n    }, \"Prompt for Input:\"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 496\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 497\n      },\n      __self: this\n    }, \"Label\"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s2\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      id: \"textfield\",\n      className: \"grey btn col s8\",\n      style: {\n        borderStyle: \"solid\",\n        borderColor: \"grey\",\n        textAlign: \"center\",\n        textTransform: \"none\",\n        color: \"grey\"\n      },\n      onClick: e => this.createControl(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }, \"Input\"), React.createElement(\"div\", {\n      className: \"col s2\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    }, \"Textfield\"))), React.createElement(\"div\", {\n      className: \"grey lighten-2 container col s6\",\n      onClick: e => this.deselectControl(wireframe, e),\n      style: {\n        height: 500,\n        width: 500,\n        overflow: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"JSONcontainer\",\n      className: \"white container\",\n      onClick: e => this.deselectControl(wireframe, e),\n      style: {\n        width: container.width,\n        height: container.height,\n        position: \"relative\",\n        borderRadius: \"3px\",\n        borderColor: \"black\",\n        border: \"solid\",\n        borderWidth: \"2px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 506\n      },\n      __self: this\n    }, controls && controls.map(controls => {\n      return React.createElement(Rnd, {\n        id: controls.key,\n        onClick: e => this.selectControl(wireframe, e),\n        bounds: \"parent\",\n        size: {\n          width: controls.width,\n          height: controls.height\n        },\n        position: {\n          x: controls.left,\n          y: controls.top\n        },\n        className: \"btn-large-flat\",\n        onResizeStop: (...args) => this.onResize(wireframe, controls.key, ...args),\n        onDragStop: (...args) => this.onDrag(wireframe, controls.key, ...args),\n        tabIndex: \"0\",\n        onKeyDown: e => this.keyPresses(wireframe, controls.key, e),\n        style: {\n          textAlign: \"center\",\n          background: controls.background,\n          border: \"solid\",\n          color: controls.fontcolor,\n          borderWidth: controls.borderwidth,\n          borderColor: controls.bordercolor,\n          borderRadius: controls.borderradius,\n          fontSize: controls.fontsize\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508\n        },\n        __self: this\n      }, controls.text, React.createElement(\"div\", {\n        id: \"visible\" + controls.key,\n        style: {\n          visibility: this.isVisible(controls.key)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"red container\",\n        style: {\n          top: 0,\n          left: 0,\n          height: 20,\n          width: 20,\n          position: \"absolute\",\n          zIndex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"red container\",\n        style: {\n          top: 0,\n          right: 0,\n          height: 20,\n          width: 20,\n          position: \"absolute\",\n          zIndex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"red container\",\n        style: {\n          bottom: 0,\n          left: 0,\n          height: 20,\n          width: 20,\n          position: \"absolute\",\n          zIndex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"red container\",\n        style: {\n          bottom: 0,\n          right: 0,\n          height: 20,\n          width: 20,\n          position: \"absolute\",\n          zIndex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 520\n        },\n        __self: this\n      })));\n    }))), React.createElement(\"div\", {\n      className: \"col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"PropertiesToolbar\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 525\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 526\n      },\n      __self: this\n    }, \"Properties:\"), React.createElement(\"div\", {\n      className: \"input-field col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"component\",\n      type: \"text\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.text,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 528\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      htmlFor: \"component\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 529\n      },\n      __self: this\n    }, \"Component\")), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, \"Font Size:\"), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"number\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.fontsize,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537\n      },\n      __self: this\n    }, \"Font Color:\"), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_color\",\n      type: \"color\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.fontcolor,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, \"Background:\"), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 543\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"background\",\n      type: \"color\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.background,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547\n      },\n      __self: this\n    }, \"Border Color:\"), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"border_c\",\n      type: \"color\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.bordercolor,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552\n      },\n      __self: this\n    }, \"Border Thickness:\"), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"border_t\",\n      type: \"number\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.borderwidth,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 554\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556\n      },\n      __self: this\n    }, \"Border Radius:\"), React.createElement(\"div\", {\n      className: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 557\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"border_r\",\n      type: \"number\",\n      onChange: e => this.handleChange(wireframe, e),\n      value: this.state.editedComponent.borderradius,\n      className: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 558\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562\n      },\n      __self: this\n    }, \" \")));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const id = ownProps.match.params.id;\n  const wireframes = state.firestore.data.wireframes;\n  const wireframe = wireframes ? wireframes[id] : null;\n  if (wireframe) wireframe.id = id;\n  return {\n    wireframe,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchtoProps = dispatch => {\n  return {\n    updateListName: (wireframe, id) => dispatch(updateListName(wireframe, id)),\n    zoomInOut: (wireframe, id) => dispatch(zoomInOut(wireframe, id)),\n    updateWireframe: (wireframe, id) => dispatch(updateWireframe(wireframe, id))\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchtoProps), firestoreConnect([{\n  collection: 'wireframes'\n}]))(EditScreen);","map":{"version":3,"sources":["C:/Users/pokeg/Documents/cse316-final-project/src/components/edit_screen/EditScreen.js"],"names":["React","Component","Redirect","connect","compose","firestoreConnect","getFirestore","Button","Modal","Icon","Link","Rnd","updateWireframe","updateListName","zoomInOut","EditScreen","state","editedComponent","key","text","fontsize","fontcolor","background","bordercolor","borderwidth","borderradius","height","width","top","left","cancelOption","init","saved","originalWireframe","deselectControl","e","setState","selectControl","wireframe","preventDefault","stopPropagation","target","id","item","controls","undefined","onResize","direction","ref","delta","position","copy","JSON","parse","stringify","noSaved","offsetWidth","offsetHeight","y","x","props","onDrag","d","keyPresses","splice","readjustKeys","nativeEvent","keyCode","ctrlKey","length","push","handleChange","value","container","parseInt","isSaved","zoomamount","Math","pow","forEach","borderRadius","newItem","firstChild","data","sortCriteria","changedTime","updateTime","fireStore","collection","doc","update","time","Date","now","createControl","control","isVisible","i","render","auth","uid","ConditionalLink","children","to","condition","ConditionalModal","name","borderStyle","borderColor","textAlign","textTransform","color","overflow","border","borderWidth","map","args","fontSize","visibility","zIndex","right","bottom","mapStateToProps","ownProps","match","params","wireframes","firestore","firebase","mapDispatchtoProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { getFirestore } from 'redux-firestore';\nimport { Button, Modal, Icon } from 'react-materialize';\nimport { Link } from 'react-router-dom';\nimport { Rnd } from 'react-rnd';\nimport { updateWireframe, updateListName, zoomInOut } from '../../store/actions/actionCreators.js';\n\nclass EditScreen extends Component {\n    state = {\n        editedComponent: {\n            key: \"\",\n            text: \"\",\n            fontsize: \"\",\n            fontcolor: \"\",\n            background: \"\",\n            bordercolor: \"\",\n            borderwidth: \"\",\n            borderradius: \"\",\n            height: \"\",\n            width: \"\",\n            top: \"\",\n            left: \"\"\n        },\n        cancelOption: {\n            init: false,\n            saved: true,\n            originalWireframe: \"\"\n        }\n    }\n\n    deselectControl = (e) => {\n        this.setState({\n            editedComponent: {\n                key: \"\",\n                text: \"\",\n                fontsize: \"\",\n                fontcolor: \"\",\n                background: \"\",\n                bordercolor: \"\",\n                borderwidth: \"\",\n                borderradius: \"\",\n                height: \"\",\n                width: \"\",\n                top: \"\",\n                left: \"\"\n            }\n        })\n    }\n\n    selectControl = (wireframe, e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        const { target } = e;\n        const key = target.id;\n        const item = wireframe.controls[key]\n        if (item === undefined) {\n            return;\n        }\n        this.setState({\n            editedComponent: {\n                key: item.key,\n                text: item.text,\n                fontsize: item.fontsize,\n                fontcolor: item.fontcolor,\n                background: item.background,\n                bordercolor: item.bordercolor,\n                borderwidth: item.borderwidth,\n                borderradius: item.borderradius,\n                height: item.height,\n                width: item.width,\n                top: item.top,\n                left: item.left\n            }\n        })\n    }\n\n    isVisible(e) {\n        if (this.state.editedComponent.key === e) {\n            return \"\"\n        } else {\n            return \"hidden\";\n        }\n    }\n\n    onResize = (wireframe, key, e, direction, ref, delta, position) => {\n        if (this.state.cancelOption.init === false) {\n            let copy = JSON.parse(JSON.stringify(wireframe));\n            this.setState({\n                cancelOption: {\n                    init: true,\n                    saved: false,\n                    originalWireframe: copy\n                }\n\n            })\n        } else{\n            let noSaved = this.state.cancelOption;\n            noSaved.saved = false;\n            this.setState({\n                cancelOption: noSaved\n            })\n        }\n        wireframe.controls[key].width = ref.offsetWidth;\n        wireframe.controls[key].height = ref.offsetHeight;\n        wireframe.controls[key].top = position.y;\n        wireframe.controls[key].left = position.x;\n        this.props.updateWireframe(wireframe, wireframe.id);\n    }\n\n    onDrag = (wireframe, key, e, d) => {\n        if (this.state.cancelOption.init === false) {\n            let copy = JSON.parse(JSON.stringify(wireframe));\n            this.setState({\n                cancelOption: {\n                    init: true,\n                    saved: false,\n                    originalWireframe: copy\n                }\n\n            })\n        } else{\n            let noSaved = this.state.cancelOption;\n            noSaved.saved = false;\n            this.setState({\n                cancelOption: noSaved\n            })\n        }\n        wireframe.controls[key].top = d.y;\n        wireframe.controls[key].left = d.x;\n        this.props.updateWireframe(wireframe, wireframe.id);\n    }\n\n    readjustKeys(wireframe){\n        let i = 0;\n        for(i; i < wireframe.controls.length; i++){\n          wireframe.controls[i].key = i;\n        }\n      }\n\n    keyPresses = (wireframe, key, e) => {\n        if (this.state.cancelOption.init === false) {\n            let copy = JSON.parse(JSON.stringify(wireframe));\n            this.setState({\n                cancelOption: {\n                    init: true,\n                    saved: false,\n                    originalWireframe: copy\n                }\n\n            })\n        } else{\n            let noSaved = this.state.cancelOption;\n            noSaved.saved = false;\n            this.setState({\n                cancelOption: noSaved\n            })\n        }\n        if(e.key === \"Delete\"){\n            wireframe.controls.splice(key, 1);\n            this.readjustKeys(wireframe);\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (e.nativeEvent.keyCode === 68) { \n            if(e.nativeEvent.ctrlKey){\n                let copy = JSON.parse(JSON.stringify(wireframe.controls[key]));\n                copy.key = wireframe.controls.length;\n                wireframe.controls.push(copy);\n                this.updateWireframe(wireframe, wireframe,id); \n            }\n        }\n    }\n\n    handleChange = (wireframe, e) => {\n        const { target } = e;\n        if (target.id !== \"noaved\") {\n            let noSaved = this.state.cancelOption;\n            noSaved.saved = false;\n            this.setState({\n                cancelOption: noSaved\n            })\n        }\n        if (this.state.cancelOption.init === false) {\n            let copy = JSON.parse(JSON.stringify(wireframe));\n            this.setState({\n                cancelOption: {\n                    init: true,\n                    saved: false,\n                    originalWireframe: copy\n                }\n\n            })\n        }\n        if (target.id === \"name\") {\n            this.props.updateListName(target.value, wireframe.id);\n        } else if (target.id === \"height\") {\n            if (target.value >= 0 && target.value <= 5000) {\n                wireframe.container.height = parseInt(target.value, 10);\n                this.props.updateWireframe(wireframe, wireframe.id);\n            }\n        } else if (target.id === \"width\") {\n            if (target.value >= 0 && target.value <= 5000) {\n                wireframe.container.width = parseInt(target.value, 10);\n                this.props.updateWireframe(wireframe, wireframe.id);\n            }\n        } else if (target.id === \"save\") {\n            let isSaved = this.state.cancelOption;\n            isSaved.saved = true;\n            this.setState({\n                cancelOption: isSaved\n            })\n            if (wireframe.container.zoomamount > 0) {\n                wireframe.container.height /= (Math.pow(2, wireframe.container.zoomamount));\n                wireframe.container.width /= (Math.pow(2, wireframe.container.zoomamount));\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderwidth /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderRadius /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.height /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.width /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.top /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.left /= (Math.pow(2, wireframe.container.zoomamount));\n                });\n                wireframe.controls = controls;\n                wireframe.container.zoomamount = 0;\n            } else if (wireframe.container.zoomamount < 0) {\n                wireframe.container.height /= (Math.pow(2, wireframe.container.zoomamount));\n                wireframe.container.width /= (Math.pow(2, wireframe.container.zoomamount));\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderwidth /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderRadius /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.height /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.width /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.top /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.left /= (Math.pow(2, wireframe.container.zoomamount));\n                });\n                wireframe.controls = controls;\n                wireframe.container.zoomamount = 0;\n            }\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (target.id === \"nosave\") {\n            this.props.updateWireframe(this.state.cancelOption.originalWireframe, wireframe.id);\n        } else if (target.id === \"component\") {\n            let newItem = this.state.editedComponent;\n            newItem.text = target.value;\n            this.setState({\n                editedComponent: newItem\n            })\n            wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (target.id === \"font_size\") {\n            if (target.value >= 0) {\n                let newItem = this.state.editedComponent;\n                newItem.fontsize = parseInt(target.value, 10);\n                this.setState({\n                    editedComponent: newItem\n                })\n                wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n                this.props.updateWireframe(wireframe, wireframe.id);\n            }\n        } else if (target.id === \"font_color\") {\n            let newItem = this.state.editedComponent;\n            newItem.fontcolor = target.value;\n            this.setState({\n                editedComponent: newItem\n            })\n            wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (target.id === \"background\") {\n            let newItem = this.state.editedComponent;\n            newItem.background = target.value;\n            this.setState({\n                editedComponent: newItem\n            })\n            wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (target.id === \"border_c\") {\n            let newItem = this.state.editedComponent;\n            newItem.bordercolor = target.value;\n            this.setState({\n                editedComponent: newItem\n            })\n            wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (target.id === \"border_t\") {\n            if (target.value >= 0) {\n                let newItem = this.state.editedComponent;\n                newItem.borderwidth = parseInt(target.value, 10);\n                this.setState({\n                    editedComponent: newItem\n                })\n                wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n                this.props.updateWireframe(wireframe, wireframe.id);\n            }\n        } else if (target.id === \"border_r\") {\n            if (target.value >= 0) {\n                let newItem = this.state.editedComponent;\n                newItem.borderradius = parseInt(target.value, 10);\n                this.setState({\n                    editedComponent: newItem\n                })\n                wireframe.controls[this.state.editedComponent.key] = this.state.editedComponent;\n                this.props.updateWireframe(wireframe, wireframe.id);\n            }\n        } else if (target.firstChild != null) {\n            if (target.firstChild.data === \"zoom_in\") {\n                wireframe.container.zoomamount += 1;\n                wireframe.container.height *= 2;\n                wireframe.container.width *= 2;\n                if (wireframe.container.height > 5000 || wireframe.container.width > 5000) {\n                    wireframe.container.zoomamount -= 1;\n                    wireframe.container.height /= 2;\n                    wireframe.container.width /= 2;\n                    return;\n                }\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize *= 2;\n                    controls.borderwidth *= 2;\n                    controls.borderradius *= 2;\n                    controls.height *= 2;\n                    controls.width *= 2;\n                    controls.top *= 2;\n                    controls.left *= 2;\n                });\n                wireframe.controls = controls;\n                this.props.zoomInOut(wireframe, wireframe.id);\n            } else if (target.firstChild.data === \"zoom_out\") {\n                wireframe.container.zoomamount -= 1;\n                wireframe.container.height /= 2;\n                wireframe.container.width /= 2;\n                if (wireframe.container.height < 1 || wireframe.container.width < 1) {\n                    wireframe.container.zoomamount += 1;\n                    wireframe.container.height *= 2;\n                    wireframe.container.width *= 2;\n                    return;\n                }\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize /= 2;\n                    controls.borderwidth /= 2;\n                    controls.borderRadius /= 2;\n                    controls.height /= 2;\n                    controls.width /= 2;\n                    controls.top /= 2;\n                    controls.left /= 2;\n                });\n                wireframe.controls = controls;\n                this.props.zoomInOut(wireframe, wireframe.id);\n            }\n        }\n    }\n    sortCriteria = 'none';\n    changedTime = false;\n\n    updateTime = () => {\n        let fireStore = getFirestore();\n        fireStore.collection('wireframes').doc(this.props.wireframe.id).update({ time: Date.now() })\n    }\n\n    createControl = (wireframe, e) => {\n        const { target } = e;\n        if (target.id !== \"noaved\") {\n            let noSaved = this.state.cancelOption;\n            noSaved.saved = false;\n            this.setState({\n                cancelOption: noSaved\n            })\n        }\n        if (this.state.cancelOption.init === false) {\n            let copy = JSON.parse(JSON.stringify(wireframe));\n            this.setState({\n                cancelOption: {\n                    init: true,\n                    saved: false,\n                    originalWireframe: copy\n                }\n\n            })\n        }\n        let control = null;\n        if (target.id === \"container\") {\n            control = {\n                key: 0,\n                text: \"\",\n                fontsize: 0,\n                background: \"#ffffff\",\n                fontcolor: \"#ffffff\",\n                bordercolor: \"#000000\",\n                borderwidth: 3,\n                borderradius: 2,\n                height: 60,\n                width: 150,\n                top: 0,\n                left: 0\n            }\n        } else if (target.id === \"label\") {\n            control = {\n                key: 0,\n                text: \"Prompt for Input:\",\n                fontsize: 15,\n                background: \"#ffffff\",\n                fontcolor: \"#000000\",\n                bordercolor: \"#ffffff\",\n                borderwidth: 0,\n                borderradius: 0,\n                height: 30,\n                width: 220,\n                top: 0,\n                left: 0\n            }\n        } else if (target.id === \"textfield\") {\n            control = {\n                key: 0,\n                text: \"Input\",\n                fontsize: 15,\n                background: \"#9e9e9e\",\n                fontcolor: \"#757575\",\n                bordercolor: \"#757575\",\n                borderwidth: 3,\n                borderradius: 2,\n                height: 35,\n                width: 200,\n                top: 0,\n                left: 0\n            }\n        }\n        control.key = wireframe.controls.length;\n        wireframe.controls.push(control);\n        this.props.updateWireframe(wireframe, wireframe.id);\n    }\n\n    render() {\n        const auth = this.props.auth;\n        let wireframe = this.props.wireframe;\n\n        if (!auth.uid) {\n            return <Redirect to=\"/\" />;\n        }\n\n        if (!wireframe)\n            return <React.Fragment />\n\n        let controls = wireframe.controls;\n        let container = wireframe.container;\n        const ConditionalLink = ({ children, to, condition }) => (!!condition && to) ? <Link to={to}>{children}</Link> : <>{children}</>;\n        const ConditionalModal = ({ children, condition }) => (!!condition) ? <Modal header=\"Changes Not Saved!\" trigger={<div className=\"clicker black-text col s4\" onClick={(e) => this.handleChange(wireframe, e)}>Close</div>}\n            actions={<div><Link to=\"/\"><Button id=\"save\" className=\"grey darken-1 waves-effect waves-light btn modal-action modal-close\" onClick={(e) => this.handleChange(wireframe, e)}>Save Changes</Button></Link>\n                <Link to=\"/\"><Button id=\"nosave\" className=\"grey darken-1 waves-effect waves-light btn modal-action modal-close\" onClick={(e) => this.handleChange(wireframe, e)}>Continue Without Saving</Button></Link></div>}>\n            <h5>You are about to quit without saving your changes. Are you sure you want to do this?</h5>\n        </Modal> : <>{children}</>;\n\n        if (!this.changedTime) {\n            this.changedTime = true;\n            this.updateTime();\n        }\n\n        return (\n            <div className=\"edit-div\">\n                <div id=\"input-field\" className=\"row\">\n                    <div className=\"col s1\">Name:</div>\n                    <div className=\"input-field col s3\">\n                        <input id=\"name\" type=\"text\" value={wireframe.name} onChange={(e) => this.handleChange(wireframe, e)} className=\"validate\"></input>\n                    </div>\n                    <div className=\"col s2\">Dimensions:</div>\n                    <div className=\"input-field col s3\">\n                        <input id=\"height\" type=\"number\" value={wireframe.container.height} onChange={(e) => this.handleChange(wireframe, e)} className=\"validate\"></input>\n                        <label htmlFor=\"height\">Height</label>\n                    </div>\n                    <div className=\"input-field col s3\">\n                        <input id=\"width\" type=\"number\" value={wireframe.container.width} onChange={(e) => this.handleChange(wireframe, e)} className=\"validate\"></input>\n                        <label htmlFor=\"width\">Width</label>\n                    </div>\n                </div>\n                <div id=\"edit-modules\" className=\"row\">\n                    <div className=\"col s3\">\n                        <div id=\"ZoomSaveCancel\" className=\"row\">\n                            <div id=\"zoomin\" className=\"clicker black-text col s2\" onClick={(e) => this.handleChange(wireframe, e)}><Icon>zoom_in</Icon></div>\n                            <div id=\"zoomout\" className=\"clicker black-text col s2\" onClick={(e) => this.handleChange(wireframe, e)}><i className=\"material-icons\">zoom_out</i></div>\n                            <div id=\"save\" onClick={(e) => this.handleChange(wireframe, e)} className=\"clicker black-text col s4\">Save</div>\n                            <ConditionalLink id=\"close\" to=\"/\" condition={!this.state.cancelOption.init || (this.state.cancelOption.init && this.state.cancelOption.saved)}><ConditionalModal id=\"closeModal\" condition={!this.state.cancelOption.saved}><div className=\"clicker black-text col s4\">Close</div></ConditionalModal></ConditionalLink>\n                        </div>\n                        <div className=\"col s12\" style={{ height: 70 }}> </div>\n                        <div id=\"ComponentElements\" className=\"row\">\n                            <div className=\"col s3\" style={{ height: 50 }}> </div>\n                            <div id=\"container\" className=\"white btn-large col s6\" style={{ borderStyle: \"solid\", borderColor: \"black\" }} onClick={(e) => this.createControl(wireframe, e)}></div>\n                            <div className=\"col s3\" style={{ height: 50 }}> </div>\n                            <div className=\"col s12\" style={{ textAlign: \"center\" }}>Container</div>\n                            <div className=\"col s12\" style={{ height: 100 }}> </div>\n                            <div id=\"label\" className=\"btn-large-flat col s12\" style={{ textAlign: \"center\" }} onClick={(e) => this.createControl(wireframe, e)}>Prompt for Input:</div>\n                            <div className=\"col s12\" style={{ height: 10 }}> </div>\n                            <div className=\"col s12\" style={{ textAlign: \"center\" }}>Label</div>\n                            <div className=\"col s12\" style={{ height: 100 }}> </div>\n                            <div className=\"col s2\" style={{ height: 50 }}> </div>\n                            <div id=\"textfield\" className=\"grey btn col s8\" style={{ borderStyle: \"solid\", borderColor: \"grey\", textAlign: \"center\", textTransform: \"none\", color: \"grey\" }} onClick={(e) => this.createControl(wireframe, e)}>Input</div>\n                            <div className=\"col s2\" style={{ height: 50 }}> </div>\n                            <div className=\"col s12\" style={{ textAlign: \"center\" }}>Textfield</div>\n                        </div>\n                    </div>\n                    <div className=\"grey lighten-2 container col s6\" onClick={(e) => this.deselectControl(wireframe, e)} style={{ height: 500, width: 500, overflow: \"auto\" }}>\n                        <div id=\"JSONcontainer\" className=\"white container\" onClick={(e) => this.deselectControl(wireframe, e)} style={{ width: container.width, height: container.height, position: \"relative\", borderRadius: \"3px\", borderColor: \"black\", border: \"solid\", borderWidth: \"2px\" }}>\n                            {controls && controls.map((controls) => {\n                                return (<Rnd id={controls.key} onClick={(e) => this.selectControl(wireframe, e)} bounds=\"parent\" size={{ width: controls.width, height: controls.height, }} position={{ x: controls.left, y: controls.top }} className=\"btn-large-flat\" onResizeStop={(...args) => this.onResize(wireframe, controls.key, ...args)} onDragStop={(...args) => this.onDrag(wireframe, controls.key, ...args)} tabIndex=\"0\" onKeyDown={(e) => this.keyPresses(wireframe, controls.key, e)} style={{\n                                    textAlign: \"center\",\n                                    background: controls.background,\n                                    border: \"solid\",\n                                    color: controls.fontcolor,\n                                    borderWidth: controls.borderwidth,\n                                    borderColor: controls.bordercolor,\n                                    borderRadius: controls.borderradius,\n                                    fontSize: controls.fontsize\n                                }}>{controls.text}<div id={\"visible\" + controls.key} style={{ visibility: this.isVisible(controls.key) }}><div className=\"red container\" style={{ top: 0, left: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div>\n                                        <div className=\"red container\" style={{ top: 0, right: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div>\n                                        <div className=\"red container\" style={{ bottom: 0, left: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div>\n                                        <div className=\"red container\" style={{ bottom: 0, right: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div></div></Rnd>)\n                            })}\n                        </div>\n                    </div>\n                    <div className=\"col s3\">\n                        <div id=\"PropertiesToolbar\" className=\"row\">\n                            <div className=\"col s12\">Properties:</div>\n                            <div className=\"input-field col s12\">\n                                <input id=\"component\" type=\"text\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.text} className=\"validate\"></input>\n                                <label htmlFor=\"component\">Component</label>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div className=\"col s6\">Font Size:</div>\n                            <div className=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"number\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.fontsize} className=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div className=\"col s6\">Font Color:</div>\n                            <div className=\"input-field col s6\">\n                                <input id=\"font_color\" type=\"color\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.fontcolor} className=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div className=\"col s6\">Background:</div>\n                            <div className=\"input-field col s6\">\n                                <input id=\"background\" type=\"color\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.background} className=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div className=\"col s6\">Border Color:</div>\n                            <div className=\"input-field col s6\">\n                                <input id=\"border_c\" type=\"color\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.bordercolor} className=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div className=\"col s6\">Border Thickness:</div>\n                            <div className=\"input-field col s6\">\n                                <input id=\"border_t\" type=\"number\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.borderwidth} className=\"validate\"></input>\n                            </div>\n                            <div className=\"col s6\">Border Radius:</div>\n                            <div className=\"input-field col s6\">\n                                <input id=\"border_r\" type=\"number\" onChange={(e) => this.handleChange(wireframe, e)} value={this.state.editedComponent.borderradius} className=\"validate\"></input>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col s12\" style={{ height: 30 }}> </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const { id } = ownProps.match.params;\n    const { wireframes } = state.firestore.data;\n    const wireframe = wireframes ? wireframes[id] : null;\n    if (wireframe)\n        wireframe.id = id;\n\n    return {\n        wireframe,\n        auth: state.firebase.auth,\n    };\n};\n\nconst mapDispatchtoProps = (dispatch) => {\n    return {\n        updateListName: (wireframe, id) => dispatch(updateListName(wireframe, id)),\n        zoomInOut: (wireframe, id) => dispatch(zoomInOut(wireframe, id)),\n        updateWireframe: (wireframe, id) => dispatch(updateWireframe(wireframe, id))\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchtoProps),\n    firestoreConnect([\n        { collection: 'wireframes' },\n    ]),\n)(EditScreen);"]},"metadata":{},"sourceType":"module"}