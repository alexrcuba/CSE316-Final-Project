{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pokeg\\\\Documents\\\\cse316-final-project\\\\src\\\\components\\\\edit_screen\\\\EditScreen.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { getFirestore } from 'redux-firestore';\nimport { Button, Modal, Icon } from 'react-materialize';\nimport { Link } from 'react-router-dom';\nimport { Rnd } from 'react-rnd';\nimport { updateWireframe, updateListName, zoomInOut } from '../../store/actions/actionCreators.js';\n\nclass EditScreen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      editedComponent: {\n        key: null,\n        type: null,\n        text: null,\n        fontsize: null,\n        fontcolor: null,\n        background: null,\n        bordercolor: null,\n        borderwidth: null,\n        borderradius: null,\n        visible: \"hidden\"\n      },\n      cancelOption: {\n        init: false,\n        saved: true,\n        originalWireframe: null\n      }\n    };\n\n    this.selectControl = (wireframe, e) => {\n      e.preventDefault();\n      e.stopPropagation();\n\n      if (wireframe === undefined) {\n        return;\n      }\n\n      const target = e.target;\n      const key = target.id;\n      const item = wireframe.controls[key];\n      console.log(wireframe.controls[key]);\n      this.setState({\n        editedComponent: {\n          key: item.key,\n          type: item.type,\n          text: item.text,\n          fontsize: item.fontsize,\n          fontcolor: item.fontcolor,\n          background: item.background,\n          bordercolor: item.bordercolor,\n          borderwidth: item.borderwidth,\n          borderradius: item.borderradius,\n          visible: \"\"\n        }\n      });\n    };\n\n    this.handleChange = (wireframe, e) => {\n      console.log(wireframe.container);\n      const target = e.target;\n\n      if (target.id !== \"noaved\") {\n        let noSaved = this.state.cancelOption;\n        noSaved.saved = false;\n        this.setState({\n          cancelOption: noSaved\n        });\n      }\n\n      if (this.state.cancelOption.init === false) {\n        this.setState({\n          cancelOption: {\n            init: true,\n            saved: false,\n            originalWireframe: wireframe\n          }\n        });\n      }\n\n      if (target.id === \"name\") {\n        this.props.updateListName(target.value, wireframe.id);\n      } else if (target.id === \"save\") {\n        let isSaved = this.state.cancelOption;\n        isSaved.saved = true;\n        this.setState({\n          cancelOption: isSaved\n        });\n\n        if (wireframe.container.zoomamount > 0) {\n          console.log(Math.pow(2, wireframe.container.zoomamount));\n          wireframe.container.height /= Math.pow(2, wireframe.container.zoomamount);\n          wireframe.container.width /= Math.pow(2, wireframe.container.zoomamount);\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderwidth /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderRadius /= Math.pow(2, wireframe.container.zoomamount);\n            controls.height /= Math.pow(2, wireframe.container.zoomamount);\n            controls.width /= Math.pow(2, wireframe.container.zoomamount);\n            controls.top /= Math.pow(2, wireframe.container.zoomamount);\n            controls.left /= Math.pow(2, wireframe.container.zoomamount);\n          });\n          wireframe.controls = controls;\n          wireframe.container.zoomamount = 0;\n          console.log(wireframe.container);\n        } else if (wireframe.container.zoomamount < 0) {\n          console.log(Math.pow(2, wireframe.container.zoomamount));\n          wireframe.container.height /= Math.pow(2, wireframe.container.zoomamount);\n          wireframe.container.width /= Math.pow(2, wireframe.container.zoomamount);\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderwidth /= Math.pow(2, wireframe.container.zoomamount);\n            controls.borderRadius /= Math.pow(2, wireframe.container.zoomamount);\n            controls.height /= Math.pow(2, wireframe.container.zoomamount);\n            controls.width /= Math.pow(2, wireframe.container.zoomamount);\n            controls.top /= Math.pow(2, wireframe.container.zoomamount);\n            controls.left /= Math.pow(2, wireframe.container.zoomamount);\n          });\n          wireframe.controls = controls;\n          wireframe.container.zoomamount = 0;\n          console.log(wireframe.container);\n        }\n\n        this.props.updateWireframe(wireframe, wireframe.id);\n      } else if (target.id === \"nosave\") {\n        console.log(\"NOT SAVED\");\n        this.props.updateWireframe(this.state.cancelOption.originalWireframe, wireframe.id);\n      } else if (target.firstChild != null) {\n        if (target.firstChild.data === \"zoom_in\") {\n          wireframe.container.zoomamount += 1;\n          wireframe.container.height *= 2;\n          wireframe.container.width *= 2;\n\n          if (wireframe.container.height > 5000 || wireframe.container.width > 5000) {\n            wireframe.container.zoomamount -= 1;\n            wireframe.container.height /= 2;\n            wireframe.container.width /= 2;\n            return;\n          }\n\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize *= 2;\n            controls.borderwidth *= 2;\n            controls.borderRadius *= 2;\n            controls.height *= 2;\n            controls.width *= 2;\n            controls.top *= 2;\n            controls.left *= 2;\n          });\n          wireframe.controls = controls;\n          this.props.zoomInOut(wireframe, wireframe.id);\n        } else if (target.firstChild.data === \"zoom_out\") {\n          wireframe.container.zoomamount -= 1;\n          wireframe.container.height /= 2;\n          wireframe.container.width /= 2;\n\n          if (wireframe.container.height < 1 || wireframe.container.width < 1) {\n            wireframe.container.zoomamount += 1;\n            wireframe.container.height *= 2;\n            wireframe.container.width *= 2;\n            return;\n          }\n\n          let controls = wireframe.controls;\n          controls && controls.forEach(controls => {\n            controls.fontsize /= 2;\n            controls.borderwidth /= 2;\n            controls.borderRadius /= 2;\n            controls.height /= 2;\n            controls.width /= 2;\n            controls.top /= 2;\n            controls.left /= 2;\n          });\n          wireframe.controls = controls;\n          this.props.zoomInOut(wireframe, wireframe.id);\n        }\n      }\n    };\n\n    this.sortCriteria = 'none';\n    this.changedTime = false;\n\n    this.updateTime = () => {\n      console.log(\"updating time\");\n      let fireStore = getFirestore();\n      fireStore.collection('wireframes').doc(this.props.wireframe.id).update({\n        time: Date.now()\n      });\n    };\n  }\n\n  isVisible(e) {\n    if (this.state.editedComponent.key === e) {\n      return \"\";\n    } else {\n      return \"hidden\";\n    }\n  }\n\n  render() {\n    const auth = this.props.auth;\n    let wireframe = this.props.wireframe;\n\n    if (!auth.uid) {\n      return React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      });\n    } else {//console.log(auth);\n    }\n\n    if (!wireframe) return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    });\n    let controls = wireframe.controls;\n    let container = wireframe.container;\n\n    const ConditionalLink = ({\n      children,\n      to,\n      condition\n    }) => !!condition && to ? React.createElement(Link, {\n      to: to,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, children) : React.createElement(React.Fragment, null, children);\n\n    const ConditionalModal = ({\n      children,\n      condition\n    }) => !!condition ? React.createElement(Modal, {\n      header: \"Changes Not Saved!\",\n      trigger: React.createElement(\"div\", {\n        className: \"clicker black-text col s4\",\n        onClick: e => this.handleChange(wireframe, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, \"Close\"),\n      actions: React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(Button, {\n        id: \"save\",\n        className: \"grey darken-1 waves-effect waves-light btn modal-action modal-close\",\n        onClick: e => this.handleChange(wireframe, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Save Changes\")), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(Button, {\n        id: \"nosave\",\n        className: \"grey darken-1 waves-effect waves-light btn modal-action modal-close\",\n        onClick: e => this.handleChange(wireframe, e),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, \"Continue Without Saving\"))),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, \"You are about to quit without saving your changes. Are you sure you want to do this?\")) : React.createElement(React.Fragment, null, children);\n\n    if (!this.changedTime) {\n      this.changedTime = true;\n      this.updateTime();\n    }\n\n    return React.createElement(\"div\", {\n      className: \"edit-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"input-field\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"name\",\n      type: \"text\",\n      value: wireframe.name,\n      onChange: e => this.handleChange(wireframe, e),\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Name\")), React.createElement(\"div\", {\n      id: \"edit-modules\",\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"ZoomSaveCancel\",\n      class: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"zoomin\",\n      className: \"clicker black-text col s2\",\n      onClick: e => this.handleChange(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"zoom_in\")), React.createElement(\"div\", {\n      id: \"zoomout\",\n      className: \"clicker black-text col s2\",\n      onClick: e => this.handleChange(wireframe, e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      class: \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, \"zoom_out\")), React.createElement(\"div\", {\n      id: \"save\",\n      onClick: e => this.handleChange(wireframe, e),\n      className: \"clicker black-text col s4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"Save\"), React.createElement(ConditionalLink, {\n      id: \"close\",\n      to: \"/\",\n      condition: !this.state.cancelOption.init || this.state.cancelOption.init && this.state.cancelOption.saved,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(ConditionalModal, {\n      id: \"closeModal\",\n      condition: !this.state.cancelOption.saved,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clicker black-text col s4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, \"Close\")))), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 70\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      id: \"ComponentElements\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s3\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"white btn-large col s6\",\n      style: {\n        borderStyle: \"solid\",\n        borderColor: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"col s3\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, \"Container\"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"btn-large-flat col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, \"Prompt for Input:\"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, \"Label\"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 100\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s2\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"grey btn col s8\",\n      style: {\n        borderStyle: \"solid\",\n        borderColor: \"grey\",\n        textAlign: \"left\",\n        textTransform: \"none\",\n        color: \"grey\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }, \"Input\"), React.createElement(\"div\", {\n      className: \"col s2\",\n      style: {\n        height: 50\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Textfield\"))), React.createElement(\"div\", {\n      class: \"grey lighten-2 container col s6\",\n      onClick: e => this.deselectControl(wireframe, e),\n      style: {\n        height: 500,\n        width: 500,\n        overflow: \"auto\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(Rnd, {\n      id: \"JSONcontainer\",\n      className: \"white container\",\n      onClick: e => e.stopPropagation(),\n      bounds: \"parent\",\n      size: {\n        width: container.width,\n        height: container.height\n      },\n      position: {\n        x: 0,\n        y: 0\n      },\n      style: {\n        position: \"relative\",\n        borderRadius: \"5px\",\n        borderColor: \"black\",\n        border: \"solid\",\n        transform: this.state.zoom\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, controls && controls.map(controls => {\n      if (controls.type === \"label\") {\n        return React.createElement(Rnd, {\n          id: controls.key,\n          onClick: e => this.selectControl(wireframe, e),\n          bounds: \"parent\",\n          size: {\n            width: controls.width,\n            height: controls.height\n          },\n          position: {\n            x: controls.left,\n            y: controls.top\n          },\n          className: \"btn-large-flat\",\n          style: {\n            textAlign: \"center\",\n            background: controls.background,\n            borderColor: controls.bordercolor,\n            border: \"solid\",\n            borderWidth: controls.borderwidth,\n            borderRadius: controls.borderradius,\n            fontSize: controls.fontsize,\n            transform: this.state.zoom\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, controls.text, React.createElement(\"div\", {\n          id: \"visible\" + controls.key,\n          style: {\n            visibility: this.isVisible(controls.key)\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"red container\",\n          style: {\n            top: 0,\n            left: 0,\n            height: 20,\n            width: 20,\n            position: \"absolute\",\n            zIndex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 263\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"red container\",\n          style: {\n            top: 0,\n            right: 0,\n            height: 20,\n            width: 20,\n            position: \"absolute\",\n            zIndex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"red container\",\n          style: {\n            bottom: 0,\n            left: 0,\n            height: 20,\n            width: 20,\n            position: \"absolute\",\n            zIndex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"red container\",\n          style: {\n            bottom: 0,\n            right: 0,\n            height: 20,\n            width: 20,\n            position: \"absolute\",\n            zIndex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        })));\n      } else {\n        return null;\n      }\n    }))), React.createElement(\"div\", {\n      class: \"col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"PropertiesToolbar\",\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Properties:\"), React.createElement(\"div\", {\n      class: \"input-field col s12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"name\",\n      type: \"text\",\n      value: this.state.editedComponent.text,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      for: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Component\")), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      class: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"Font Size:\"), React.createElement(\"div\", {\n      class: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"number\",\n      value: this.state.editedComponent.fontsize,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      class: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Font Color:\"), React.createElement(\"div\", {\n      class: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"color\",\n      value: this.state.editedComponent.fontcolor,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      class: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, \"Background:\"), React.createElement(\"div\", {\n      class: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"color\",\n      value: this.state.editedComponent.background,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      class: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Border Color:\"), React.createElement(\"div\", {\n      class: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"color\",\n      value: this.state.editedComponent.bordercolor,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 20\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \" \"), React.createElement(\"div\", {\n      class: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"Border Thickness:\"), React.createElement(\"div\", {\n      class: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"number\",\n      value: this.state.editedComponent.borderwidth,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Border Radius:\"), React.createElement(\"div\", {\n      class: \"input-field col s6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"font_size\",\n      type: \"number\",\n      value: this.state.editedComponent.borderradius,\n      class: \"validate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"col s12\",\n      style: {\n        height: 30\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \" \")));\n  }\n\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const id = ownProps.match.params.id;\n  const wireframes = state.firestore.data.wireframes;\n  const wireframe = wireframes ? wireframes[id] : null;\n  if (wireframe) wireframe.id = id;\n  return {\n    wireframe,\n    auth: state.firebase.auth\n  };\n};\n\nconst mapDispatchtoProps = dispatch => {\n  return {\n    updateListName: (wireframe, id) => dispatch(updateListName(wireframe, id)),\n    zoomInOut: (wireframe, id) => dispatch(zoomInOut(wireframe, id)),\n    updateWireframe: (wireframe, id) => dispatch(updateWireframe(wireframe, id))\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchtoProps), firestoreConnect([{\n  collection: 'wireframes'\n}]))(EditScreen);","map":{"version":3,"sources":["C:/Users/pokeg/Documents/cse316-final-project/src/components/edit_screen/EditScreen.js"],"names":["React","Component","Redirect","connect","compose","firestoreConnect","getFirestore","Button","Modal","Icon","Link","Rnd","updateWireframe","updateListName","zoomInOut","EditScreen","state","editedComponent","key","type","text","fontsize","fontcolor","background","bordercolor","borderwidth","borderradius","visible","cancelOption","init","saved","originalWireframe","selectControl","wireframe","e","preventDefault","stopPropagation","undefined","target","id","item","controls","console","log","setState","handleChange","container","noSaved","props","value","isSaved","zoomamount","Math","pow","height","width","forEach","borderRadius","top","left","firstChild","data","sortCriteria","changedTime","updateTime","fireStore","collection","doc","update","time","Date","now","isVisible","render","auth","uid","ConditionalLink","children","to","condition","ConditionalModal","name","borderStyle","borderColor","textAlign","textTransform","color","deselectControl","overflow","x","y","position","border","transform","zoom","map","borderWidth","fontSize","visibility","zIndex","right","bottom","mapStateToProps","ownProps","match","params","wireframes","firestore","firebase","mapDispatchtoProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { getFirestore } from 'redux-firestore';\nimport { Button, Modal, Icon } from 'react-materialize';\nimport { Link } from 'react-router-dom';\nimport { Rnd } from 'react-rnd';\nimport { updateWireframe, updateListName, zoomInOut } from '../../store/actions/actionCreators.js';\n\nclass EditScreen extends Component {\n    state = {\n        editedComponent: {\n            key: null,\n            type: null,\n            text: null,\n            fontsize: null,\n            fontcolor: null,\n            background: null,\n            bordercolor: null,\n            borderwidth: null,\n            borderradius: null,\n            visible: \"hidden\",\n        },\n        cancelOption: {\n            init: false,\n            saved: true,\n            originalWireframe: null\n        }\n    }\n\n    selectControl = (wireframe, e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if(wireframe === undefined){\n            return;\n        }\n        const { target } = e;\n        const key = target.id;\n        const item = wireframe.controls[key]\n        console.log(wireframe.controls[key])\n        this.setState({\n            editedComponent: {\n                key: item.key,\n                type: item.type,\n                text: item.text,\n                fontsize: item.fontsize,\n                fontcolor: item.fontcolor,\n                background: item.background,\n                bordercolor: item.bordercolor,\n                borderwidth: item.borderwidth,\n                borderradius: item.borderradius,\n                visible: \"\",\n            }\n        })\n    }\n\n    isVisible(e){\n        if(this.state.editedComponent.key === e){\n            return \"\"\n        } else{\n            return \"hidden\";\n        }\n    }\n\n    handleChange = (wireframe, e) => {\n        console.log(wireframe.container);\n        const { target } = e;\n        if (target.id !== \"noaved\") {\n            let noSaved = this.state.cancelOption;\n            noSaved.saved = false;\n            this.setState({\n                cancelOption: noSaved\n            })\n        }\n        if (this.state.cancelOption.init === false) {\n            this.setState({\n                cancelOption: {\n                    init: true,\n                    saved: false,\n                    originalWireframe: wireframe\n                }\n\n            })\n        }\n        if (target.id === \"name\") {\n            this.props.updateListName(target.value, wireframe.id);\n\n        } else if (target.id === \"save\") {\n            let isSaved = this.state.cancelOption;\n            isSaved.saved = true;\n            this.setState({\n                cancelOption: isSaved\n            })\n            if (wireframe.container.zoomamount > 0) {\n                console.log(Math.pow(2, wireframe.container.zoomamount));\n                wireframe.container.height /= (Math.pow(2, wireframe.container.zoomamount));\n                wireframe.container.width /= (Math.pow(2, wireframe.container.zoomamount));\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderwidth /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderRadius /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.height /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.width /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.top /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.left /= (Math.pow(2, wireframe.container.zoomamount));\n                });\n                wireframe.controls = controls;\n                wireframe.container.zoomamount = 0;\n                console.log(wireframe.container);\n            } else if (wireframe.container.zoomamount < 0) {\n                console.log(Math.pow(2, wireframe.container.zoomamount));\n                wireframe.container.height /= (Math.pow(2, wireframe.container.zoomamount));\n                wireframe.container.width /= (Math.pow(2, wireframe.container.zoomamount));\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderwidth /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.borderRadius /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.height /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.width /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.top /= (Math.pow(2, wireframe.container.zoomamount));\n                    controls.left /= (Math.pow(2, wireframe.container.zoomamount));\n                });\n                wireframe.controls = controls;\n                wireframe.container.zoomamount = 0;\n                console.log(wireframe.container);\n            }\n            this.props.updateWireframe(wireframe, wireframe.id);\n        } else if (target.id === \"nosave\") {\n            console.log(\"NOT SAVED\")\n            this.props.updateWireframe(this.state.cancelOption.originalWireframe, wireframe.id);\n        } else if (target.firstChild != null) {\n            if (target.firstChild.data === \"zoom_in\") {\n                wireframe.container.zoomamount += 1;\n                wireframe.container.height *= 2;\n                wireframe.container.width *= 2;\n                if (wireframe.container.height > 5000 || wireframe.container.width > 5000) {\n                    wireframe.container.zoomamount -= 1;\n                    wireframe.container.height /= 2;\n                    wireframe.container.width /= 2;\n                    return;\n                }\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize *= 2;\n                    controls.borderwidth *= 2;\n                    controls.borderRadius *= 2;\n                    controls.height *= 2;\n                    controls.width *= 2;\n                    controls.top *= 2;\n                    controls.left *= 2;\n                });\n                wireframe.controls = controls;\n                this.props.zoomInOut(wireframe, wireframe.id);\n            } else if (target.firstChild.data === \"zoom_out\") {\n                wireframe.container.zoomamount -= 1;\n                wireframe.container.height /= 2;\n                wireframe.container.width /= 2;\n                if (wireframe.container.height < 1 || wireframe.container.width < 1) {\n                    wireframe.container.zoomamount += 1;\n                    wireframe.container.height *= 2;\n                    wireframe.container.width *= 2;\n                    return;\n                }\n                let controls = wireframe.controls;\n                controls && controls.forEach((controls) => {\n                    controls.fontsize /= 2;\n                    controls.borderwidth /= 2;\n                    controls.borderRadius /= 2;\n                    controls.height /= 2;\n                    controls.width /= 2;\n                    controls.top /= 2;\n                    controls.left /= 2;\n                });\n                wireframe.controls = controls;\n                this.props.zoomInOut(wireframe, wireframe.id);\n            }\n        }\n    }\n    sortCriteria = 'none';\n    changedTime = false;\n\n    updateTime = () => {\n        console.log(\"updating time\")\n        let fireStore = getFirestore();\n        fireStore.collection('wireframes').doc(this.props.wireframe.id).update({ time: Date.now() })\n    }\n\n    render() {\n        const auth = this.props.auth;\n        let wireframe = this.props.wireframe;\n\n        if (!auth.uid) {\n            return <Redirect to=\"/\" />;\n        } else {\n            //console.log(auth);\n        }\n\n        if (!wireframe)\n            return <React.Fragment />\n\n        let controls = wireframe.controls;\n        let container = wireframe.container;\n        const ConditionalLink = ({ children, to, condition }) => (!!condition && to) ? <Link to={to}>{children}</Link> : <>{children}</>;\n        const ConditionalModal = ({ children, condition }) => (!!condition) ? <Modal header=\"Changes Not Saved!\" trigger={<div className=\"clicker black-text col s4\" onClick={(e) => this.handleChange(wireframe, e)}>Close</div>}\n            actions={<div><Link to=\"/\"><Button id=\"save\" className=\"grey darken-1 waves-effect waves-light btn modal-action modal-close\" onClick={(e) => this.handleChange(wireframe, e)}>Save Changes</Button></Link>\n                <Link to=\"/\"><Button id=\"nosave\" className=\"grey darken-1 waves-effect waves-light btn modal-action modal-close\" onClick={(e) => this.handleChange(wireframe, e)}>Continue Without Saving</Button></Link></div>}>\n            <h5>You are about to quit without saving your changes. Are you sure you want to do this?</h5>\n        </Modal> : <>{children}</>;\n\n        if (!this.changedTime) {\n            this.changedTime = true;\n            this.updateTime();\n        }\n\n        return (\n            <div className=\"edit-div\">\n                <div class=\"input-field\">\n                    <input id=\"name\" type=\"text\" value={wireframe.name} onChange={(e) => this.handleChange(wireframe, e)} class=\"validate\"></input>\n                    <label for=\"name\">Name</label>\n                </div>\n                <div id=\"edit-modules\" class=\"row\">\n                    <div class=\"col s3\">\n                        <div id=\"ZoomSaveCancel\" class=\"row\">\n                            <div id=\"zoomin\" className=\"clicker black-text col s2\" onClick={(e) => this.handleChange(wireframe, e)}><Icon>zoom_in</Icon></div>\n                            <div id=\"zoomout\" className=\"clicker black-text col s2\" onClick={(e) => this.handleChange(wireframe, e)}><i class=\"material-icons\">zoom_out</i></div>\n                            <div id=\"save\" onClick={(e) => this.handleChange(wireframe, e)} className=\"clicker black-text col s4\">Save</div>\n                            <ConditionalLink id=\"close\" to=\"/\" condition={!this.state.cancelOption.init || (this.state.cancelOption.init && this.state.cancelOption.saved)}><ConditionalModal id=\"closeModal\" condition={!this.state.cancelOption.saved}><div className=\"clicker black-text col s4\">Close</div></ConditionalModal></ConditionalLink>\n                        </div>\n                        <div className=\"col s12\" style={{ height: 70 }}> </div>\n                        <div id=\"ComponentElements\" className=\"row\">\n                            <div className=\"col s3\" style={{ height: 50 }}> </div>\n                            <div className=\"white btn-large col s6\" style={{ borderStyle: \"solid\", borderColor: \"black\" }}></div>\n                            <div className=\"col s3\" style={{ height: 50 }}> </div>\n                            <div className=\"col s12\" style={{ textAlign: \"center\" }}>Container</div>\n                            <div className=\"col s12\" style={{ height: 100 }}> </div>\n                            <div className=\"btn-large-flat col s12\" style={{ textAlign: \"center\" }}>Prompt for Input:</div>\n                            <div className=\"col s12\" style={{ height: 10 }}> </div>\n                            <div className=\"col s12\" style={{ textAlign: \"center\" }}>Label</div>\n                            <div className=\"col s12\" style={{ height: 100 }}> </div>\n                            <div className=\"col s2\" style={{ height: 50 }}> </div>\n                            <div className=\"grey btn col s8\" style={{ borderStyle: \"solid\", borderColor: \"grey\", textAlign: \"left\", textTransform: \"none\", color: \"grey\" }}>Input</div>\n                            <div className=\"col s2\" style={{ height: 50 }}> </div>\n                            <div className=\"col s12\" style={{ textAlign: \"center\" }}>Textfield</div>\n                        </div>\n                    </div>\n                    <div class=\"grey lighten-2 container col s6\" onClick={(e) => this.deselectControl(wireframe, e)} style={{ height: 500, width: 500, overflow: \"auto\" }}>\n                        <Rnd id=\"JSONcontainer\" className=\"white container\" onClick={(e) => e.stopPropagation()} bounds=\"parent\" size={{ width: container.width, height: container.height, }} position={{ x: 0, y: 0 }} style={{ position: \"relative\", borderRadius: \"5px\", borderColor: \"black\", border: \"solid\", transform: this.state.zoom }}>\n                            {controls && controls.map((controls) => {\n                                if (controls.type === \"label\") {\n                                    return (<Rnd id={controls.key} onClick={(e) => this.selectControl(wireframe, e)} bounds=\"parent\" size={{ width: controls.width, height: controls.height, }} position={{ x: controls.left, y: controls.top }} className=\"btn-large-flat\" style={{\n                                        textAlign: \"center\",\n                                        background: controls.background,\n                                        borderColor: controls.bordercolor,\n                                        border: \"solid\",\n                                        borderWidth: controls.borderwidth,\n                                        borderRadius: controls.borderradius,\n                                        fontSize: controls.fontsize,\n                                        transform: this.state.zoom,\n                                    }}>{controls.text}<div id={\"visible\" + controls.key} style={{ visibility: this.isVisible(controls.key)}}><div className=\"red container\" style={{ top: 0, left: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div>\n                                            <div className=\"red container\" style={{ top: 0, right: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div>\n                                            <div className=\"red container\" style={{ bottom: 0, left: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div>\n                                            <div className=\"red container\" style={{ bottom: 0, right: 0, height: 20, width: 20, position: \"absolute\", zIndex: 1 }}></div></div></Rnd>)\n                                } else {\n                                    return null;\n                                }\n                            })}\n                        </Rnd>\n                    </div>\n                    <div class=\"col s3\">\n                        <div id=\"PropertiesToolbar\" className=\"row\">\n                            <div className=\"col s12\">Properties:</div>\n                            <div class=\"input-field col s12\">\n                                <input id=\"name\" type=\"text\" value={this.state.editedComponent.text} class=\"validate\"></input>\n                                <label for=\"name\">Component</label>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div class=\"col s6\">Font Size:</div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"number\" value={this.state.editedComponent.fontsize} class=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div class=\"col s6\">Font Color:</div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"color\" value={this.state.editedComponent.fontcolor} class=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div class=\"col s6\">Background:</div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"color\" value={this.state.editedComponent.background} class=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div class=\"col s6\">Border Color:</div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"color\" value={this.state.editedComponent.bordercolor} class=\"validate\"></input>\n                            </div>\n                            <div className=\"col s12\" style={{ height: 20 }}> </div>\n                            <div class=\"col s6\">Border Thickness:</div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"number\" value={this.state.editedComponent.borderwidth} class=\"validate\"></input>\n                            </div>\n                            <div class=\"col s6\">Border Radius:</div>\n                            <div class=\"input-field col s6\">\n                                <input id=\"font_size\" type=\"number\" value={this.state.editedComponent.borderradius} class=\"validate\"></input>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"col s12\" style={{ height: 30 }}> </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    const { id } = ownProps.match.params;\n    const { wireframes } = state.firestore.data;\n    const wireframe = wireframes ? wireframes[id] : null;\n    if (wireframe)\n        wireframe.id = id;\n\n    return {\n        wireframe,\n        auth: state.firebase.auth,\n    };\n};\n\nconst mapDispatchtoProps = (dispatch) => {\n    return {\n        updateListName: (wireframe, id) => dispatch(updateListName(wireframe, id)),\n        zoomInOut: (wireframe, id) => dispatch(zoomInOut(wireframe, id)),\n        updateWireframe: (wireframe, id) => dispatch(updateWireframe(wireframe, id))\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, mapDispatchtoProps),\n    firestoreConnect([\n        { collection: 'wireframes' },\n    ]),\n)(EditScreen);"]},"metadata":{},"sourceType":"module"}